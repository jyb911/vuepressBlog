{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{416:function(_,v,t){\"use strict\";t.r(v);var l=t(56),a=Object(l.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":_.$parent.slotKey}},[t(\"h6\",{attrs:{id:\"判断是搜索还是网址\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#判断是搜索还是网址\"}},[_._v(\"#\")]),_._v(\" 判断是搜索还是网址\")]),_._v(\" \"),t(\"p\",[_._v(\"如果是搜索内容，将搜索内容和默认搜索引擎合成新的url，如果符合url规则，根据URL协议，在输入内容上加上协议组成合法的url\")]),_._v(\" \"),t(\"h6\",{attrs:{id:\"检查缓存\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#检查缓存\"}},[_._v(\"#\")]),_._v(\" 检查缓存\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"强缓存：命中就直接从内存或硬盘里拿到资源，否则进行协商缓存\")]),_._v(\" \"),t(\"li\",[_._v(\"协商缓存：发送请求确认资源是否过期，304就直接获取，已过期就重新发起请求\")])]),_._v(\" \"),t(\"h6\",{attrs:{id:\"dns解析\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#dns解析\"}},[_._v(\"#\")]),_._v(\" DNS解析\")]),_._v(\" \"),t(\"ol\",[t(\"li\",[_._v(\"递归和迭代查询\")]),_._v(\" \"),t(\"li\",[_._v(\"多级缓存：浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存，权威域名服务器缓存\")]),_._v(\" \"),t(\"li\",[_._v(\"负载均衡\")])]),_._v(\" \"),t(\"h6\",{attrs:{id:\"发起tcp连接\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#发起tcp连接\"}},[_._v(\"#\")]),_._v(\" 发起TCP连接\")]),_._v(\" \"),t(\"ol\",[t(\"li\",[_._v(\"三次握手\")])]),_._v(\" \"),t(\"h6\",{attrs:{id:\"发送http请求\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#发送http请求\"}},[_._v(\"#\")]),_._v(\" 发送HTTP请求\")]),_._v(\" \"),t(\"ol\",[t(\"li\",[_._v(\"请求行    eg: GET index.html HTTP/1.1\")]),_._v(\" \"),t(\"li\",[_._v(\"请求报头\")]),_._v(\" \"),t(\"li\",[_._v(\"请求正文\")])]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"HTTP缓存\")])]),_._v(\" \"),t(\"h6\",{attrs:{id:\"服务器处理请求并返回http报文\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#服务器处理请求并返回http报文\"}},[_._v(\"#\")]),_._v(\" 服务器处理请求并返回HTTP报文\")]),_._v(\" \"),t(\"ol\",[t(\"li\",[_._v(\"状态码\")]),_._v(\" \"),t(\"li\",[_._v(\"响应报头\")]),_._v(\" \"),t(\"li\",[_._v(\"响应正文\")])]),_._v(\" \"),t(\"h6\",{attrs:{id:\"浏览器解析渲染页面\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#浏览器解析渲染页面\"}},[_._v(\"#\")]),_._v(\" 浏览器解析渲染页面\")]),_._v(\" \"),t(\"p\",[t(\"a\",{attrs:{href:\"https://imgtu.com/i/Lwi3kt\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t(\"img\",{attrs:{src:\"https://s1.ax1x.com/2022/04/18/Lwi3kt.jpg\",alt:\"Lwi3kt.jpg\"}}),t(\"OutboundLink\")],1)]),_._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[_._v(\"解析HTML形成DOM树\")]),_._v(\" \"),t(\"p\",[t(\"a\",{attrs:{href:\"https://imgtu.com/i/LYPQbT\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t(\"img\",{attrs:{src:\"https://s1.ax1x.com/2022/04/16/LYPQbT.png\",alt:\"LYPQbT.png\"}}),t(\"OutboundLink\")],1)]),_._v(\" \"),t(\"ul\",[t(\"li\",[t(\"p\",[_._v(\"Bytes（字节） -> Character（字符） -> Tokens（词）-> Nodes（节点）-> DOM（DOM树）\")]),_._v(\" \"),t(\"p\",[_._v('① 通过指定编码（http响应头部Content-Type: text/html;charset=UTF-8，html文件中的meta标签中指定charset=\"UTF-8\"）将字节转化为字符')]),_._v(\" \"),t(\"p\",[_._v(\"② 通过词法分析，将字符串解析成有语义的标签、属性、文本等\")]),_._v(\" \"),t(\"p\",[_._v(\"③ 根据token创建节点对象\")]),_._v(\" \"),t(\"p\",[_._v(\"④ 将各节点根据父子关系构建成DOM树\")])])])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"解析CSS（从右向左，先子节点）形成CSSOM 树\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"节点样式可以继承，所以通常要递归DOM树来得到节点样式，所以DOM树要小，css尽量用id或class选择器，少用标签选择器\")])])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"JS解析\")])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"DOM解析\")])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"合并DOM树和CSSOM树形成渲染树\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"渲染树并不是等到DOM树和CSSOM树构建完成才开始\")])])]),_._v(\" \"),t(\"li\",[t(\"p\",[t(\"strong\",[_._v(\"浏览器开始渲染并绘制页面\")])]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"对元素进行定位布局\\n\"),t(\"ul\",[t(\"li\",[_._v(\"分层：脱离文档流的元素会形成一个\"),t(\"strong\",[_._v(\"层叠上下文\")]),_._v(\"，被提升为单独的图层，然后主线程为每个图层计算样式，\"),t(\"strong\",[_._v(\"把每一个图层的绘制拆分成很多小的绘制指令，生成绘制表\")]),_._v(\"，这个表记录了绘制的顺序和绘制指令\")]),_._v(\" \"),t(\"li\",[_._v(\"合成器线程将图层分块，交给栅格化线程，合成器线程会收集栅格化线程的图块信息，生成一个合成器帧，浏览器进程再将合成器帧绘制到显存中，再通过 GPU 渲染在屏幕上\")]),_._v(\" \"),t(\"li\",[_._v(\"栅格化线程栅格化每个图块，再将栅格化之后的图块存储在\"),t(\"code\",[_._v(\"GPU内存\")]),_._v(\"中\")])])]),_._v(\" \"),t(\"li\",[_._v(\"绘制元素的样式\")])])])]),_._v(\" \"),t(\"ul\",[t(\"li\",[t(\"p\",[_._v(\"回流reflow 重绘repaint：重排和重绘都是运行在主线程上，而JS也是在主线程上执行，就会出现抢占执行时间的问题，而transform实现的动画直接运行在合成器线程和栅格化线程中，不会受到主线程JS执行的影响，也就不会存在动画卡帧的现象\")])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"HTML解析器和CSS解析器是并行执行的，但link引入的css会阻塞浏览器渲染和后面js语句的执行\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"js会阻塞后续DOM解析、页面渲染、后续js的执行\")])])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"回流重绘优化：\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"避免使用table布局。\")])])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"尽可能在DOM树的最末端改变class。\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"避免设置多层内联样式。\")])])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"将动画效果应用到position属性为absolute或fixed的元素上。\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"避免使用CSS表达式（例如：calc()）\")])])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"避免频繁操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改class属性。\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中。\")])])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"也可以先为元素设置display: none，操作结束后再把它显示出来。因为在display属性为none的元素上进行的DOM操作不会引发回流和重绘。\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。\")])])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素及后续元素频繁回流\")])]),_._v(\" \"),t(\"li\"),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"进程与线程\")])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"js单线程\")])]),_._v(\" \"),t(\"li\",[t(\"p\",[_._v(\"事件循环机制\")])])]),_._v(\" \"),t(\"h6\",{attrs:{id:\"连接结束\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#连接结束\"}},[_._v(\"#\")]),_._v(\" 连接结束\")]),_._v(\" \"),t(\"ol\",[t(\"li\",[_._v(\"四次挥手\")])]),_._v(\" \"),t(\"h6\",{attrs:{id:\"从浏览器的角度\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#从浏览器的角度\"}},[_._v(\"#\")]),_._v(\" 从浏览器的角度\")]),_._v(\" \"),t(\"p\",[_._v(\"从浏览器输入 \"),t(\"code\",[_._v(\"URL\")]),_._v(\" 到页面渲染的整个过程都是由 浏览器架构中的各个进程之间的配合完成\")]),_._v(\" \"),t(\"p\",[_._v(\"进程：CPU资源分配的最小单位\")]),_._v(\" \"),t(\"p\",[_._v(\"线程：CPU调度的最小单位\")]),_._v(\" \"),t(\"p\",[t(\"a\",{attrs:{href:\"https://imgtu.com/i/Oaogmt\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t(\"img\",{attrs:{src:\"https://s1.ax1x.com/2022/05/11/Oaogmt.jpg\",alt:\"Oaogmt.jpg\"}}),t(\"OutboundLink\")],1)]),_._v(\" \"),t(\"p\",[_._v(\"因为浏览器是多进程的\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"浏览器主进程: 管理子进程、提供服务功能\")]),_._v(\" \"),t(\"li\",[t(\"strong\",[_._v(\"渲染进程\")]),_._v(\"：即\"),t(\"strong\",[_._v(\"浏览器内核\")]),_._v(\"，内部多线程；为每一个tab页面创建一个渲染进程，互不影响；主要作用是页面渲染、脚本执行和事件处理\")]),_._v(\" \"),t(\"li\",[_._v(\"GPU进程：本来是负责处理3Dcss的，后来慢慢的UI界面也交给GPU来绘制\")]),_._v(\" \"),t(\"li\",[_._v(\"网络进程：就是负责网络请求，网络资源加载的进程\")]),_._v(\" \"),t(\"li\",[_._v(\"插件进程：负责插件的运行的，因为插件很容易崩溃，把它放到独立的进程里不要让它影响别人\")])]),_._v(\" \"),t(\"hr\"),_._v(\" \"),t(\"p\",[_._v(\"渲染进程的主要线程\")]),_._v(\" \"),t(\"ul\",[t(\"li\",[_._v(\"GUI渲染线程\\n\"),t(\"ul\",[t(\"li\",[_._v(\"负责渲染浏览器界面，解析HTML和CSS，构建DOM Tree和CSSOM并生成Render Tree，回流和重绘\")]),_._v(\" \"),t(\"li\",[_._v(\"与JS引擎线程互斥，当渲染过程中遇到script标签，渲染进程被挂起，JS引擎线程开始工作，执行完毕后，渲染线程继续渲染\")])])]),_._v(\" \"),t(\"li\",[_._v(\"JS引擎线程\\n\"),t(\"ul\",[t(\"li\",[_._v(\"即JS内核，执行JS脚本，与GUI渲染线程互斥\")])])]),_._v(\" \"),t(\"li\",[_._v(\"事件触发线程\\n\"),t(\"ul\",[t(\"li\",[_._v(\"控制事件循环，管理任务队列（task queue）\")]),_._v(\" \"),t(\"li\",[_._v(\"当JS执行中遇到了异步操作或事件绑定，事件触发线程会将对应的事件添加到对应的线程（定时器操事件添加到定时器触发线程，异步请求事件添加到异步请求线程），当事件结束，将回调函数添加到任务队列中等待JS引擎线程执行\")])])]),_._v(\" \"),t(\"li\",[_._v(\"定时器触发线程\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[_._v(\"setInterval\")]),_._v(\" 与 \"),t(\"code\",[_._v(\"setTimeout\")]),_._v(\" 所在线程\")])])]),_._v(\" \"),t(\"li\",[_._v(\"异步http请求线程\\n\"),t(\"ul\",[t(\"li\",[_._v(\"当执行一个异步请求时，把异步请求事件添加到异步请求线程，等收到响应，就将回调函数添加到任务队列\")])])])])])}),[],!1,null,null,null);v.default=a.exports}}]);","extractedComments":[]}